{"version":3,"file":"static/js/816.9b8999c9.chunk.js","mappings":"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","sources":["webpack://social-network-1/./src/components/common/paginator/Paginator.module.css?8828","components/common/paginator/Paginator.tsx","webpack://social-network-1/./src/components/Users/users.module.css?9211","components/Users/User.tsx","components/Users/Users.tsx","components/redux/users-selectors.ts","components/Users/UsersContainer.tsx","../node_modules/classnames/index.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"paginator\":\"Paginator_paginator__WzIeI\",\"pageNumber\":\"Paginator_pageNumber__XQ56n\",\"selectedPage\":\"Paginator_selectedPage__Kr8x6\"};","import React, {useState} from 'react';\nimport styles from '../paginator/Paginator.module.css';\nimport  cn from 'classnames'\n\ntype PaginatorPropsType = {\n    pageSize: number,\n    totalItemsCount: number,\n    currentPage: number,\n    portionSize: number,\n    onPageChanged: (pageNumber: number) => void,\n}\n\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize}: PaginatorPropsType) => {\n    const pagesCount = Math.ceil(totalItemsCount / pageSize) //math.ceil - округляет до целого числа в большую сторону\n    const pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    const portionCount = Math.ceil(pagesCount/portionSize) //кол-во \"порций\" показанных страниц\n    const [portionNumber, setPortionNumber] = useState(1)\n    const leftPortionNumber = (portionNumber - 1) * portionSize + 1 // номер левой границы порции\n    const rightPortionNumber = portionNumber * portionSize // номер правой границы порции\n\n\n    return <div className={styles.paginator}>\n        {portionNumber > 1 &&\n            <button onClick={()=>{setPortionNumber(portionNumber - 1)}}>prev</button>}\n        {pages\n            .filter(p => p >= leftPortionNumber && p <= rightPortionNumber)\n            .map(p => {\n            return <span className={ cn ({[styles.selectedPage] : currentPage === p}, styles.pageNumber)}\n                         onClick={() => {\n                             onPageChanged(p)\n                         }}\n                         key={p}>{p}</span>\n            })\n        }\n        {portionCount > portionNumber &&\n            <button onClick={() => {setPortionNumber(portionNumber + 1)}}>next</button>}\n    </div>\n}\n\nexport default Paginator","// extracted by mini-css-extract-plugin\nexport default {\"userPhoto\":\"users_userPhoto__sKbuw\"};","import React from 'react';\nimport styles from './users.module.css';\nimport userPhoto from '../../assets/images/user-png.png';\nimport {UserType} from '../redux/users-reducer';\nimport {NavLink} from 'react-router-dom';\n\ntype UserPropsType = {\n    user: UserType,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void,\n    followingInProgress: Array<number>,\n}\n\nconst User = ({\n                  user,\n                  followingInProgress,\n                  follow,\n                  unfollow\n              }: UserPropsType) => {\n\n    return <div>\n                <span>\n                    <div>\n                        <NavLink to={'/profile/' + user.id}>\n                            <img src={user.photos.small !== null ? user.photos.small\n                                : userPhoto} className={styles.userPhoto} alt={'userPhoto'}/>\n                        </NavLink>\n                    </div>\n                    <div>\n                        {user.followed\n                            ? <button disabled={followingInProgress.some(id => id === user.id)}\n                                      onClick={() => {\n                                          unfollow(user.id)\n                                      }}>Unfollow</button>\n                            : <button disabled={followingInProgress.some(id => id === user.id)}\n                                      onClick={() => {\n                                          follow(user.id)\n                                      }}>Follow</button>}\n                    </div>\n                </span>\n        <span>\n                    <span>\n                        <div>{user.name}</div>\n                        <div>{user.status}</div>\n                    </span>\n                    <span>\n                        <div>{'user.location.country'}</div>\n                        <div>{'user.location.city'}</div>\n                    </span>\n                </span>\n    </div>\n}\n\nexport default User","import React from 'react';\nimport {UserType} from '../redux/users-reducer';\nimport Paginator from '../common/paginator/Paginator';\nimport User from './User';\n\ntype UsersPropsType = {\n    users: Array<UserType>,\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void,\n    onPageChanged: (pageNumber: number) => void,\n    followingInProgress: Array<number>,\n}\n\nconst Users = ({\n                   currentPage,\n                   onPageChanged,\n                   totalUsersCount,\n                   pageSize,\n                   users,\n                   followingInProgress,\n                   follow,\n                   unfollow\n               }: UsersPropsType) => {\n\n    return <div>\n\n        <Paginator currentPage={currentPage}\n                   onPageChanged={onPageChanged}\n                   totalItemsCount={totalUsersCount}\n                   pageSize={pageSize}\n                   portionSize={10}/>\n        <div>\n            {users.map(u => <User user={u}\n                                  followingInProgress={followingInProgress}\n                                  follow={follow}\n                                  unfollow={unfollow}\n                                  key={u.id}/>\n            )}\n        </div>\n\n    </div>\n}\n\nexport default Users","import {AppStateType} from './redux-store';\n\nexport const getUsers = (state: AppStateType) => {\n    return state.usersPage.users\n}\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress\n}","import {connect} from 'react-redux';\nimport {AppStateType} from '../redux/redux-store';\nimport {\n    follow,\n    requestUsers,\n    getUsersType,\n    setCurrentPage,\n    toggleFollowingProgress,\n    unfollow,\n    UserType\n} from '../redux/users-reducer';\nimport React, {ComponentType} from 'react';\nimport Users from './Users';\nimport {Preloader} from '../common/Preloader/Preloader';\nimport {compose} from 'redux';\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount, getUsers\n} from '../redux/users-selectors';\n\ntype UsersContainerPropsType = MapStateToPropsType & MapDispatchToPropsType\n\n\ntype MapDispatchToPropsType = {\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n    setCurrentPage: (pageNumber: number) => void\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => void\n    getUsers: (currentPage: number, pageSize: number) => getUsersType\n}\n\nclass UsersContainer extends React.Component <UsersContainerPropsType> {\n\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props\n        this.props.getUsers(currentPage, pageSize)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        const {pageSize} = this.props\n        this.props.getUsers(pageNumber, pageSize)\n        this.props.setCurrentPage(pageNumber)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n            <Users\n                totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                onPageChanged={this.onPageChanged}\n                users={this.props.users}\n                unfollow={this.props.unfollow}\n                follow={this.props.follow}\n                followingInProgress={this.props.followingInProgress}\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state: AppStateType):MapStateToPropsType => {\n    return {\n        users: getUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n    }\n}\n\n\n\ntype MapStateToPropsType = {\n    users: Array<UserType>\n    pageSize:number\n    totalUsersCount: number,\n    currentPage: number,\n    isFetching: boolean,\n    followingInProgress: Array<number>,\n}\n\nexport default compose<ComponentType>(\n    connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {\n        follow,\n        unfollow,\n        setCurrentPage,\n        toggleFollowingProgress,\n        getUsers: requestUsers\n    })\n)\n(UsersContainer)","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionNumber","rightPortionNumber","className","styles","onClick","filter","p","map","cn","user","followingInProgress","follow","unfollow","to","id","src","photos","small","userPhoto","alt","followed","disabled","some","name","status","totalUsersCount","users","u","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersContainer","pageNumber","props","setCurrentPage","this","Preloader","React","compose","connect","toggleFollowingProgress","requestUsers","hasOwn","hasOwnProperty","classNames","classes","arguments","length","arg","argType","Array","isArray","inner","apply","toString","Object","prototype","includes","key","call","join","module","exports","default","_slicedToArray","arr","_i","Symbol","iterator","_s","_e","_arr","_n","_d","next","done","value","err","unsupportedIterableToArray","TypeError"],"sourceRoot":""}